"use strict";(self.webpackChunkisolate_react_docs=self.webpackChunkisolate_react_docs||[]).push([[969],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(t),m=o,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||a;return t?r.createElement(f,i(i({ref:n},p),{},{components:t})):r.createElement(f,i({ref:n},p))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=t[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2485:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return p},default:function(){return d}});var r=t(3117),o=t(102),a=(t(7294),t(3905)),i=["components"],s={title:"Those Pesky Dependencies"},c=void 0,l={unversionedId:"More/Dependencies/overview",id:"More/Dependencies/overview",title:"Those Pesky Dependencies",description:"This section is a work-in-progress",source:"@site/docs/More/Dependencies/00-overview.md",sourceDirName:"More/Dependencies",slug:"/More/Dependencies/overview",permalink:"/isolate-react/More/Dependencies/overview",editUrl:"https://github.com/davidmfoley/isolate-react/docusaurus/docs/More/Dependencies/00-overview.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Those Pesky Dependencies"},sidebar:"tutorialSidebar",previous:{title:"Why?",permalink:"/isolate-react/More/why"},next:{title:"Avoid mocks/stubs by separating side-effects and logic",permalink:"/isolate-react/More/Dependencies/dependency-removal"}},p=[{value:"This section is a work-in-progress",id:"this-section-is-a-work-in-progress",children:[],level:2}],u={toc:p};function d(e){var n=e.components,t=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"this-section-is-a-work-in-progress"},"This section is a work-in-progress"),(0,a.kt)("p",null,"Often in our programs, when module A needs to collaborate with module B, it imports that module and uses its exports directly:"),(0,a.kt)("p",null,"For example, let's say we have a function that looks up a user from our database:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"// database.js\n\nconst db = connectToDatabase()\n\nexport const findUserByEmail = async (email) => {\n  const result = await db.query(`select * from users where email = $1`, [email])\n\n  return result.rows[0] || null\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'// api.js\n\nimport { findUserByEmail } from \'./database\'\n\nexport const getUserName = async (email) => {\n  const user = await findUserByEmail(email)\n  if (!user) return "User Not Found"\n  if (!user.name) return "No Name Provided"\n  if (user.title) return `${user.title}. ${user.name}`\n\n  return user.name\n}\n')),(0,a.kt)("p",null,"We can say that ",(0,a.kt)("inlineCode",{parentName:"p"},"getUserName")," ",(0,a.kt)("em",{parentName:"p"},"depends on")," ",(0,a.kt)("inlineCode",{parentName:"p"},"findUserByEmail"),"."),(0,a.kt)("p",null,"If we want to test the logic in ",(0,a.kt)("inlineCode",{parentName:"p"},"getUserName")," ",(0,a.kt)("em",{parentName:"p"},"without")," a database, we need a way to give it a fake implementation of ",(0,a.kt)("inlineCode",{parentName:"p"},"findUserByEmail"),', sometimes called a "mock".'),(0,a.kt)("p",null,'"Inverting" a dependency means designing our software so that the dependency (',(0,a.kt)("inlineCode",{parentName:"p"},"findUserByEmail"),") can be specified outside of its usage (",(0,a.kt)("inlineCode",{parentName:"p"},"getUserName"),")."),(0,a.kt)("p",null,'This sounds fancy, and there are a lot of fancy tools that provide "dependency injection".\nHowever, most of the time no additional tools are necessary to invert.'),(0,a.kt)("p",null,"The following pages explain many of the common techniques to invert dependencies in javascript and typescript. Some of the techniques are specific to react, and some are generally applicable to all javascript code."))}d.isMDXComponent=!0}}]);