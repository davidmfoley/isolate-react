<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">You don&#x27;t need a fancy mocking tool | isolate-react</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://davidmfoley.github.io/isolate-react/More/You Do Not Need/mocking-tools"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="You don&#x27;t need a fancy mocking tool | isolate-react"><meta data-react-helmet="true" name="description" content="This is a work in progress!"><meta data-react-helmet="true" property="og:description" content="This is a work in progress!"><link data-react-helmet="true" rel="icon" href="/isolate-react/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://davidmfoley.github.io/isolate-react/More/You Do Not Need/mocking-tools"><link data-react-helmet="true" rel="alternate" href="https://davidmfoley.github.io/isolate-react/More/You Do Not Need/mocking-tools" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://davidmfoley.github.io/isolate-react/More/You Do Not Need/mocking-tools" hreflang="x-default"><link rel="stylesheet" href="/isolate-react/assets/css/styles.236a576f.css">
<link rel="preload" href="/isolate-react/assets/js/runtime~main.f28525f6.js" as="script">
<link rel="preload" href="/isolate-react/assets/js/main.cb5e7a03.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/isolate-react/"><b class="navbar__title">isolate-react</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/davidmfoley/isolate-react" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://npmjs.com/package/isolate-react" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>NPM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/isolate-react/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/isolate-react/compared-to">Comparison to other tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/isolate-react/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/isolate-react/">isolate-react</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/isolate-react/More/why">More</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/isolate-react/More/why">Why?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/isolate-react/More/Dependencies/overview">Dependencies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/isolate-react/More/You Do Not Need/overview">You Do Not Need</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/isolate-react/More/You Do Not Need/overview">A compendium of tools that you do not need</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/isolate-react/More/You Do Not Need/replace-method-on-existing-object">Code Smell - Replace existing method (jest.spyOn)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/isolate-react/More/You Do Not Need/file-mocks">Code smell - Mocking imports (jest.mock)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/isolate-react/More/You Do Not Need/mocking-tools">You don&#x27;t need a fancy mocking tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/isolate-react/More/You Do Not Need/fancy-assertions">You don&#x27;t need an assertion library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/isolate-react/More/You Do Not Need/fancy-test-runner">fancy-test-runner</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/isolate-react/Testing Components/overview">Testing Components</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/isolate-react/Testing Hooks/overview">Testing Hooks</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>You don&#x27;t need a fancy mocking tool</h1></header><h3 class="anchor anchorWithStickyNavbar_mojV" id="this-is-a-work-in-progress">This is a work in progress!<a class="hash-link" href="#this-is-a-work-in-progress" title="Direct link to heading">â€‹</a></h3><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-we-talk-about-when-we-talk-about-mocks">What we talk about when we talk about mocks<a class="hash-link" href="#what-we-talk-about-when-we-talk-about-mocks" title="Direct link to heading">â€‹</a></h2><p>In automated tests, sometimes we use helper objects or functions that help us test <em>other</em> objects or functions. These helpers are often (semi-accurately) called &quot;mocks&quot;.</p><p>The more general term for this type of object is &quot;test double&quot;. Technically, a &quot;mock&quot; is a specific type of test double. However usage of mocks (in the technical sense) is rare in practice, in javascript.
Usage of the name &quot;mock&quot;, as a synonym for &quot;test double&quot;, probably comes from the names of many of the early tools, such as &quot;JMock&quot; for Java and &quot;Rhino Mocks&quot;. </p><p>Anyway, human language is even more malleable than Javascript, so just be warned that, in these writings, I will usually use a term like &quot;fake&quot; or &quot;test double&quot; in the general case, rather than the (imprecise) use of &quot;mock&quot; as a general term for all fake objects used in tests.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="why-do-we-even-have-mocking-tools">Why do we even have mocking tools?<a class="hash-link" href="#why-do-we-even-have-mocking-tools" title="Direct link to heading">â€‹</a></h2><p>At the time that TDD was gaining popularity, Java and C# did not have many built-in dynamic features, so tools that provide the developer the ability to easily create an object for testing allowed for exercising modules in tests in ways that would otherwise be difficult.</p><p>However, this power is not without cost. Using a tool that makes it easy to test a module that has many dependencies can make it harder to see the cost of those dependencies.
Usually, in my experience, code that is hard to test is also hard to understand and ultimately, hard to make correct.
Additionally, usually when we say that code is &quot;hard to test&quot; what we mean is that it is difficult to set up the <em>dependencies</em> required to exercise that code.
When testing a complex module, each test that does complex setup of dependencies makes it more difficult to refactor the dependencies of the code being tested, since that would now require changing the tests as well. It also makes the tests more difficult to understand.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="javascript-is-malleable">Javascript is malleable<a class="hash-link" href="#javascript-is-malleable" title="Direct link to heading">â€‹</a></h2><p>The dynamic nature of Javascript (and typescript) gives us many more options for </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what">What<a class="hash-link" href="#what" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="stub">Stub<a class="hash-link" href="#stub" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="return-known-values-from-a-function-to-facilitate-testing">Return known values from a function to facilitate testing<a class="hash-link" href="#return-known-values-from-a-function-to-facilitate-testing" title="Direct link to heading">â€‹</a></h4><h3 class="anchor anchorWithStickyNavbar_mojV" id="spy">Spy<a class="hash-link" href="#spy" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="spy-on-calls-to-a-function-and-assert-that-it-was-called-correctly">Spy on calls to a function and assert that it was called correctly<a class="hash-link" href="#spy-on-calls-to-a-function-and-assert-that-it-was-called-correctly" title="Direct link to heading">â€‹</a></h4></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/davidmfoley/isolate-react/docusaurus/docs/More/You Do Not Need/03-mocking-tools.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/isolate-react/More/You Do Not Need/file-mocks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Code smell - Mocking imports (jest.mock)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/isolate-react/More/You Do Not Need/fancy-assertions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">You don&#x27;t need an assertion library</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#this-is-a-work-in-progress" class="table-of-contents__link toc-highlight">This is a work in progress!</a></li><li><a href="#what-we-talk-about-when-we-talk-about-mocks" class="table-of-contents__link toc-highlight">What we talk about when we talk about mocks</a></li><li><a href="#why-do-we-even-have-mocking-tools" class="table-of-contents__link toc-highlight">Why do we even have mocking tools?</a></li><li><a href="#javascript-is-malleable" class="table-of-contents__link toc-highlight">Javascript is malleable</a></li><li><a href="#what" class="table-of-contents__link toc-highlight">What</a><ul><li><a href="#stub" class="table-of-contents__link toc-highlight">Stub</a></li><li><a href="#spy" class="table-of-contents__link toc-highlight">Spy</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Dave Foley</div></div></div></footer></div>
<script src="/isolate-react/assets/js/runtime~main.f28525f6.js"></script>
<script src="/isolate-react/assets/js/main.cb5e7a03.js"></script>
</body>
</html>